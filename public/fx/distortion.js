const uigen = require('./uigen')

const fx = {
    module: 'EffectDistortion',
    name: 'Distortion',
    identifier: 'distortion',
    channels: true,
    channelSortId: 13,
    master: true,
    masterSortId: 6,
    slices: true,
    sliceSortId: 14,
    icon: 'Distortion',
    typeId: 5,
    snippet: {
        'Module': 'EffectDistortion',
        'Bypass': 'Off',
        'Curve': [ -1.0, -0.9800000191, -0.9599999785, -0.9399999976, -0.9200000167, -0.8999999762, -0.8799999952, -0.8600000143, -0.8400000334, -0.8199999928, -0.8000000119, -0.7799999714, -0.7599999905, -0.7400000095, -0.7200000286, -0.7000000477, -0.6800000072, -0.6599999666, -0.6399999857, -0.6200000048, -0.6000000238, -0.5800000429, -0.5600000024, -0.5400000215, -0.5199999809, -0.5, -0.4800000191, -0.4600000381, -0.4399999976, -0.4200000167, -0.4000000358, -0.3799999952, -0.3600000143, -0.3400000334, -0.3199999928, -0.3000000119, -0.280000031, -0.2599999905, -0.2400000095, -0.2200000286, -0.2000000477, -0.1800000072, -0.1600000262, -0.1400000453, -0.1200000048, -0.1000000238, -0.0800000429, -0.0600000024, -0.0400000215, -0.0200000405, 0.0, 0.0199999809, 0.0399999619, 0.0599999428, 0.0799999237, 0.1000000238, 0.1200000048, 0.1399999857, 0.1599999666, 0.1799999475, 0.1999999285, 0.2200000286, 0.2400000095, 0.2599999905, 0.2799999714, 0.2999999523, 0.3199999332, 0.3399999142, 0.3600000143, 0.3799999952, 0.3999999762, 0.4199999571, 0.439999938, 0.4599999189, 0.4800000191, 0.5, 0.5199999809, 0.5399999619, 0.5599999428, 0.5799999237, 0.5999999046, 0.6200000048, 0.6399999857, 0.6599999666, 0.6799999475, 0.6999999285, 0.7199999094, 0.7400000095, 0.7599999905, 0.7799999714, 0.7999999523, 0.8199999332, 0.8399999142, 0.8600000143, 0.8799999952, 0.8999999762, 0.9199999571, 0.939999938, 0.9599999189, 0.9799998999, 1.0 ]
    },
    sliceSnippet: {
        "Module": "EffectDistortion",
        'Bypass': 'Off',
        "EffectMods": [
          {
            "Module": "EffectMod",
            "CC": 70,
            "Steps": [ 0.0, 0.3826799989, 0.7071099877, 0.923879981, 1.0, 0.923879981, 0.7071099877, 0.3826799989, 0.0, -0.3826799989, -0.7071099877, -0.923879981, -1.0, -0.923879981, -0.7071099877, -0.3826799989 ],
            "Depth": 1.0,
            "Dest": "Mix"
          },
          {
            "Module": "EffectMod",
            "CC": 71,
            "Steps": [ 0.0, 0.3826799989, 0.7071099877, 0.923879981, 1.0, 0.923879981, 0.7071099877, 0.3826799989, 0.0, -0.3826799989, -0.7071099877, -0.923879981, -1.0, -0.923879981, -0.7071099877, -0.3826799989 ],
            "Depth": 1.0,
            "Dest": "Drive"
          }
        ],
        "Curve": [ -1.0, -0.9800000191, -0.9599999785, -0.9399999976, -0.9200000167, -0.8999999762, -0.8799999952, -0.8600000143, -0.8400000334, -0.8199999928, -0.8000000119, -0.7799999714, -0.7599999905, -0.7400000095, -0.7200000286, -0.7000000477, -0.6800000072, -0.6599999666, -0.6399999857, -0.6200000048, -0.6000000238, -0.5800000429, -0.5600000024, -0.5400000215, -0.5199999809, -0.5, -0.4800000191, -0.4600000381, -0.4399999976, -0.4200000167, -0.4000000358, -0.3799999952, -0.3600000143, -0.3400000334, -0.3199999928, -0.3000000119, -0.280000031, -0.2599999905, -0.2400000095, -0.2200000286, -0.2000000477, -0.1800000072, -0.1600000262, -0.1400000453, -0.1200000048, -0.1000000238, -0.0800000429, -0.0600000024, -0.0400000215, -0.0200000405, 0.0, 0.0199999809, 0.0399999619, 0.0599999428, 0.0799999237, 0.1000000238, 0.1200000048, 0.1399999857, 0.1599999666, 0.1799999475, 0.1999999285, 0.2200000286, 0.2400000095, 0.2599999905, 0.2799999714, 0.2999999523, 0.3199999332, 0.3399999142, 0.3600000143, 0.3799999952, 0.3999999762, 0.4199999571, 0.439999938, 0.4599999189, 0.4800000191, 0.5, 0.5199999809, 0.5399999619, 0.5599999428, 0.5799999237, 0.5999999046, 0.6200000048, 0.6399999857, 0.6599999666, 0.6799999475, 0.6999999285, 0.7199999094, 0.7400000095, 0.7599999905, 0.7799999714, 0.7999999523, 0.8199999332, 0.8399999142, 0.8600000143, 0.8799999952, 0.8999999762, 0.9199999571, 0.939999938, 0.9599999189, 0.9799998999, 1.0 ]
    },
    modulations: [
        {
            name: 'Mix',
            dest: 'Mix',
            identifier: 'mix'
        },
        {
            name: 'Drive',
            dest: 'Drive',
            identifier: 'drive'
        }
    ],
    params: [
        {
            hidden: true,
            name: 'Bypass', //What is displayed to the User (Human readable)
            path: 'Bypass', //How the parameter is called in the Engine (name of the property on the effect) (Case sensitive, potentially contains whitespaces)
            identifier: 'bypass', //Name that the viewmodel is refering to (all lowercase, no whitespaces)
            type: 'int_switch',
            labels: {
                on: 'On',
                off: 'Off'
            },
            def: 0
        },
        {
            name: 'Drive',
            path: 'Drive',
            identifier: 'drive',
            type: 'knob_round1',
            min: 0,
            max: 60,
            unit: 'dB',
            def: 0,
            stepSize: 0.1,
        },
        {
            name: 'Rectify',
            path: 'Rectify',
            identifier: 'rectify',
            type: 'knob_round0',
            min: 0,
            max: 100,
            unit: '%',
            def: 0,
            stepSize: 0.1
        },
        {
            name: 'Mode',
            path: 'Mode',
            identifier: 'mode',
            type: 'int_select',
            min: 0,
            max: 2,
            unit: '',
            def: 0,
            items: ['Transistor', 'Tube', 'Curve']
        },
        {
            name: 'Low Cut',
            path: 'Low Cut',
            identifier: 'lowcut',
            type: 'knob_rate',
            min: 20,
            max: 1000,
            unit: 'Hz',
            def: 0,
            stepSize: 1,
        },
        {
            name: 'High Cut',
            path: 'High Cut',
            identifier: 'highcut',
            type: 'knob_rate',
            min: 1,
            max: 25,
            unit: 'kHz',
            def: 1.0,
            stepSize: 0.1,
        },
        
        {
            hidden: true,
            name: 'Wet',
            path: 'Wet',
            identifier: 'wet',
            type: 'knob_volume',
            min: -100,
            max: 0,
            unit: 'dB',
            def: 0.94,
            stepSize: 0.1
        },
        {
            hidden: true,
            name: 'Dry',
            path: 'Dry',
            identifier: 'dry',
            type: 'knob_volume',
            min: -100,
            max: 0,
            unit: 'dB',
            def: 0.94,
            stepSize: 0.1
        },
        {
            name: 'Mix',
            path: 'Mix',
            identifier: 'mix',
            type: 'knob_round0',
            min: 0,
            max: 100,
            unit: '%',
            def: 0,
            stepSize: 0.1,
        }
    ]
}

fx.ui = uigen('fx', fx.identifier, fx.params.filter( param => !param.hidden ))
fx.sliceUi = uigen('sliceFx', fx.identifier, fx.params.filter( param => !param.hidden && !fx.modulations.map(m => m.identifier).includes(param.identifier)) )

module.exports = fx